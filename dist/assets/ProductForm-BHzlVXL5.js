import{d as x,x as w,q as P,i as k,B as S,p as V,a as i,e as o,f as n,w as U,h as q,t as b,E as L,j as s,v as l,G as N,F as R,r as B,u as m,A as E,g as A,o as p}from"./index-kvnWfBP_.js";import{u as C}from"./products-7WGxuSxd.js";import{S as M}from"./save-Bgtt9bX2.js";import{A as D}from"./arrow-left-cubOD1QJ.js";const F={class:"max-w-3xl mx-auto"},I={class:"flex items-center gap-4 mb-8"},j={class:"text-2xl font-bold"},T={class:"bg-white rounded-xl shadow-sm p-8"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G=["value"],_={class:"flex justify-end pt-4"},$={type:"submit",class:"px-8 py-3 bg-primary hover:bg-blue-700 text-white rounded-lg font-bold transition-colors flex items-center gap-2"},Q=x({__name:"ProductForm",setup(h){const c=P(),g=V(),a=C(),d=w(()=>c.params.id!==void 0),f=Number(c.params.id),t=k({name:"",category:"",price:0,image:"https://placehold.co/400",description:""});S(()=>{if(d.value){const u=a.getProductById(f);u?t.value={...u}:g.push("/admin/products")}});const v=()=>{d.value?a.updateProduct(f,t.value):a.addProduct(t.value),g.push("/admin/products")};return(u,e)=>{const y=q("RouterLink");return p(),i("div",F,[o("div",I,[n(y,{to:"/admin/products",class:"p-2 hover:bg-gray-100 rounded-lg transition-colors"},{default:U(()=>[n(m(D),{class:"w-6 h-6 text-gray-600"})]),_:1}),o("h1",j,b(d.value?"Edit Product":"Add New Product"),1)]),o("div",T,[o("form",{onSubmit:L(v,["prevent"]),class:"space-y-6"},[o("div",null,[e[5]||(e[5]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Product Name",-1)),s(o("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.value.name=r),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none"},null,512),[[l,t.value.name]])]),o("div",z,[o("div",null,[e[7]||(e[7]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),s(o("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.value.category=r),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none bg-white"},[e[6]||(e[6]=o("option",{value:"",disabled:""},"Select a category",-1)),(p(!0),i(R,null,B(m(E),r=>(p(),i("option",{key:r,value:r},b(r),9,G))),128))],512),[[N,t.value.category]])]),o("div",null,[e[8]||(e[8]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Price ($)",-1)),s(o("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.value.price=r),type:"number",step:"0.01",min:"0",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none"},null,512),[[l,t.value.price]])])]),o("div",null,[e[9]||(e[9]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Image URL",-1)),s(o("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>t.value.image=r),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none"},null,512),[[l,t.value.image]]),e[10]||(e[10]=o("p",{class:"text-xs text-gray-500 mt-1"},"Enter a valid image URL.",-1))]),o("div",null,[e[11]||(e[11]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),s(o("textarea",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.value.description=r),rows:"4",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none resize-none"},null,512),[[l,t.value.description]])]),o("div",_,[o("button",$,[n(m(M),{class:"w-5 h-5"}),e[12]||(e[12]=A(" Save Product ",-1))])])],32)])])}}});export{Q as default};
