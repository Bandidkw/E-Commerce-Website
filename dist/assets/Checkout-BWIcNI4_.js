import{d as h,i as b,x,a as o,e,f as c,u as v,H as _,w as C,h as N,E as V,j as a,v as n,t as r,F as q,r as j,o as d,g as F}from"./index-kvnWfBP_.js";import{u as T}from"./cart-9eJOacqI.js";const U={class:"min-h-screen bg-gray-50 py-12"},$={class:"container mx-auto px-4"},S={key:0,class:"max-w-md mx-auto bg-white p-8 rounded-xl shadow-sm text-center"},B={class:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6"},L={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto"},D={class:"bg-white p-6 rounded-xl shadow-sm"},E={class:"bg-white p-6 rounded-xl shadow-sm"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},P={class:"md:col-span-2"},R=["disabled"],H={key:0},O={key:1},z={class:"bg-white p-6 rounded-xl shadow-sm sticky top-24"},A={class:"space-y-4 mb-6 max-h-96 overflow-y-auto pr-2"},G={class:"w-16 h-16 bg-gray-100 rounded-md overflow-hidden flex-shrink-0"},I=["src","alt"],J={class:"flex-1"},K={class:"font-medium text-sm line-clamp-1"},Q={class:"text-xs text-gray-500 mb-1"},W={class:"text-sm font-bold text-primary"},X={class:"border-t border-gray-100 pt-4 space-y-2"},Y={class:"flex justify-between text-gray-600"},Z={class:"flex justify-between text-gray-600"},ee={class:"flex justify-between text-xl font-bold text-dark pt-2 border-t border-gray-100 mt-2"},oe=h({__name:"Checkout",setup(te){const u=T(),l=b({email:"",firstName:"",lastName:"",address:"",city:"",postalCode:"",country:"Thailand"}),i=b(!1),g=b(!1),m=x(()=>u.cartTotal),p=x(()=>m.value>1e3?0:150),f=x(()=>m.value+p.value),w=async()=>{i.value=!0,await new Promise(y=>setTimeout(y,2e3)),i.value=!1,g.value=!0,setTimeout(()=>{u.clearCart()},1e3)};return(y,t)=>{const k=N("RouterLink");return d(),o("div",U,[e("div",$,[g.value?(d(),o("div",S,[e("div",B,[c(v(_),{class:"w-8 h-8 text-green-500"})]),t[7]||(t[7]=e("h1",{class:"text-2xl font-bold mb-4"},"สั่งซื้อสำเร็จ!",-1)),t[8]||(t[8]=e("p",{class:"text-gray-600 mb-8"}," ขอบคุณสำหรับการสั่งซื้อ เราจะส่งอีเมลยืนยันให้คุณในไม่ช้า ",-1)),c(k,{to:"/",class:"inline-block px-8 py-3 bg-primary text-white rounded-lg font-bold hover:bg-blue-700 transition-colors"},{default:C(()=>[...t[6]||(t[6]=[F(" ซื้อสินค้าต่อ ",-1)])]),_:1})])):(d(),o("div",L,[e("div",null,[t[18]||(t[18]=e("h1",{class:"text-2xl font-bold mb-8"},"ชำระเงิน",-1)),e("form",{onSubmit:V(w,["prevent"]),class:"space-y-8"},[e("div",D,[t[10]||(t[10]=e("h2",{class:"text-lg font-bold mb-4"},"ข้อมูลติดต่อ",-1)),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"อีเมล",-1)),a(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.email=s),type:"email",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none"},null,512),[[n,l.value.email]])])]),e("div",E,[t[16]||(t[16]=e("h2",{class:"text-lg font-bold mb-4"},"ที่อยู่จัดส่ง",-1)),e("div",M,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ชื่อ",-1)),a(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.firstName=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none"},null,512),[[n,l.value.firstName]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"นามสกุล",-1)),a(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.lastName=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none"},null,512),[[n,l.value.lastName]])]),e("div",P,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ที่อยู่",-1)),a(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.address=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none"},null,512),[[n,l.value.address]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"เมือง / จังหวัด",-1)),a(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.city=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none"},null,512),[[n,l.value.city]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"รหัสไปรษณีย์",-1)),a(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.value.postalCode=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none"},null,512),[[n,l.value.postalCode]])])])]),t[17]||(t[17]=e("div",{class:"bg-white p-6 rounded-xl shadow-sm"},[e("h2",{class:"text-lg font-bold mb-4"},"วิธีการชำระเงิน"),e("div",{class:"p-4 border border-blue-100 bg-blue-50 rounded-lg text-blue-800 text-sm"}," นี่คือร้านค้าสาธิต ไม่ต้องชำระเงินจริง ")],-1)),e("button",{type:"submit",disabled:i.value,class:"w-full py-4 bg-primary hover:bg-blue-700 text-white rounded-lg font-bold text-lg transition-colors shadow-lg shadow-primary/20 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center"},[i.value?(d(),o("span",H,"กำลังดำเนินการ...")):(d(),o("span",O,"สั่งซื้อสินค้า ($"+r(f.value.toFixed(2))+")",1))],8,R)],32)]),e("div",null,[e("div",z,[t[22]||(t[22]=e("h2",{class:"text-lg font-bold mb-6"},"สรุปคำสั่งซื้อ",-1)),e("div",A,[(d(!0),o(q,null,j(v(u).items,s=>(d(),o("div",{key:s.id,class:"flex gap-4"},[e("div",G,[e("img",{src:s.image,alt:s.name,class:"w-full h-full object-cover"},null,8,I)]),e("div",J,[e("h3",K,r(s.name),1),e("p",Q," จำนวน: "+r(s.quantity),1),e("p",W," $"+r((s.price*s.quantity).toFixed(2)),1)])]))),128))]),e("div",X,[e("div",Y,[t[19]||(t[19]=e("span",null,"ยอดรวมย่อย",-1)),e("span",null,"$"+r(m.value.toFixed(2)),1)]),e("div",Z,[t[20]||(t[20]=e("span",null,"ค่าจัดส่ง",-1)),e("span",null,r(p.value===0?"ฟรี":`$${p.value.toFixed(2)}`),1)]),e("div",ee,[t[21]||(t[21]=e("span",null,"ยอดรวมสุทธิ",-1)),e("span",null,"$"+r(f.value.toFixed(2)),1)])])])])]))])])}}});export{oe as default};
