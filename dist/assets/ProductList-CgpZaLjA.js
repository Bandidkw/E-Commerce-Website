import{c as C,d as k,i as m,x as v,s as L,a as c,e,f as l,w as _,u as n,R as b,b as f,j as S,v as j,F as M,r as V,t as o,o as u,g as N}from"./index-kvnWfBP_.js";import{u as T}from"./products-7WGxuSxd.js";import{S as B}from"./search-1E_0a4fA.js";import{C as R,a as $}from"./chevron-right-BVJ_MDQF.js";import{P as q,T as D}from"./trash-2-CPAcAM4L.js";const F=C("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),z={class:"flex justify-between items-center mb-8"},E={class:"bg-white rounded-xl shadow-sm overflow-hidden"},H={class:"p-4 border-b border-gray-100 flex items-center gap-4"},I={class:"overflow-x-auto"},Q={class:"w-full text-left"},U={class:"divide-y divide-gray-100"},A={class:"p-4 text-gray-500"},G={class:"p-4"},J={class:"w-10 h-10 bg-gray-100 rounded-md overflow-hidden"},K=["src","alt"],O={class:"p-4 font-medium text-gray-900"},W={class:"p-4 text-gray-600"},X={class:"p-4 font-bold text-dark"},Y={class:"p-4 text-right"},Z={class:"flex items-center justify-end gap-2"},ee=["onClick"],te={key:0},se={key:0,class:"p-4 border-t border-gray-100 flex items-center justify-between"},ae={class:"text-sm text-gray-500"},oe={class:"flex items-center gap-2"},re=["disabled"],le={class:"text-sm font-medium text-gray-700"},ne=["disabled"],h=10,pe=k({__name:"ProductList",setup(de){const p=T(),i=m(""),s=m(1),d=v(()=>p.products.filter(r=>r.name.toLowerCase().includes(i.value.toLowerCase())||r.category.toLowerCase().includes(i.value.toLowerCase()))),g=v(()=>Math.ceil(d.value.length/h)),x=v(()=>{const r=(s.value-1)*h,t=r+h;return d.value.slice(r,t)}),y=()=>{s.value<g.value&&s.value++},w=()=>{s.value>1&&s.value--};L(i,()=>{s.value=1});const P=r=>{confirm("คุณแน่ใจหรือไม่ว่าต้องการลบสินค้านี้?")&&p.deleteProduct(r)};return(r,t)=>(u(),c("div",null,[e("div",z,[t[2]||(t[2]=e("h1",{class:"text-2xl font-bold"},"สินค้า",-1)),l(n(b),{to:"/admin/products/new",class:"bg-primary hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},{default:_(()=>[l(n(q),{class:"w-5 h-5"}),t[1]||(t[1]=N(" เพิ่มสินค้า ",-1))]),_:1})]),e("div",E,[e("div",H,[l(n(B),{class:"w-5 h-5 text-gray-400"}),S(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>i.value=a),type:"text",placeholder:"ค้นหาสินค้า...",class:"flex-grow outline-none text-gray-600"},null,512),[[j,i.value]])]),e("div",I,[e("table",Q,[t[4]||(t[4]=e("thead",{class:"bg-gray-50 text-gray-600 font-medium border-b border-gray-100"},[e("tr",null,[e("th",{class:"p-4"},"รหัส"),e("th",{class:"p-4"},"รูปภาพ"),e("th",{class:"p-4"},"ชื่อ"),e("th",{class:"p-4"},"หมวดหมู่"),e("th",{class:"p-4"},"ราคา"),e("th",{class:"p-4 text-right"},"การดำเนินการ")])],-1)),e("tbody",U,[(u(!0),c(M,null,V(x.value,a=>(u(),c("tr",{key:a.id,class:"hover:bg-gray-50 transition-colors"},[e("td",A,"#"+o(a.id),1),e("td",G,[e("div",J,[e("img",{src:a.image,alt:a.name,class:"w-full h-full object-cover"},null,8,K)])]),e("td",O,o(a.name),1),e("td",W,o(a.category),1),e("td",X,"$"+o(a.price),1),e("td",Y,[e("div",Z,[l(n(b),{to:`/admin/products/${a.id}`,class:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors"},{default:_(()=>[l(n(F),{class:"w-4 h-4"})]),_:1},8,["to"]),e("button",{onClick:ie=>P(a.id),class:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors cursor-pointer"},[l(n(D),{class:"w-4 h-4"})],8,ee)])])]))),128)),d.value.length===0?(u(),c("tr",te,[...t[3]||(t[3]=[e("td",{colspan:"6",class:"p-8 text-center text-gray-500"}," ไม่พบสินค้า ",-1)])])):f("",!0)])])]),d.value.length>0?(u(),c("div",se,[e("div",ae," แสดง "+o((s.value-1)*h+1)+" ถึง "+o(Math.min(s.value*h,d.value.length))+" จาก "+o(d.value.length)+" รายการ ",1),e("div",oe,[e("button",{onClick:w,disabled:s.value===1,class:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors cursor-pointer"},[l(n(R),{class:"w-5 h-5 text-gray-600"})],8,re),e("span",le," หน้า "+o(s.value)+" จาก "+o(g.value),1),e("button",{onClick:y,disabled:s.value===g.value,class:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors cursor-pointer"},[l(n($),{class:"w-5 h-5 text-gray-600"})],8,ne)])])):f("",!0)])]))}});export{pe as default};
